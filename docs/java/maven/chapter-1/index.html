<!doctype html><html lang=zh dir=ltr><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>1-Maven 简介 | Java | 安橙的博客</title><meta name=generator content="Hugo Eureka 0.9.3"><link rel=stylesheet href=https://blog.ans20xx.com/css/eureka.min.9cec6350e37e534b0338fa9a085bf06855de3b0f2dcf857e792e5e97b07ea905d4d5513db554cbc26a9c3da622bae92d.css><script defer src=https://blog.ans20xx.com/js/eureka.min.fa9a6bf6d7a50bb635b4cca7d2ba5cf3dfb095ae3798773f1328f7950028b48c17d06276594e1b5f244a25a6c969a705.js></script>
<link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=preload href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Noto+Serif+SC:wght@400;600;700&display=swap" as=style onload='this.onload=null,this.rel="stylesheet"'><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/styles/base16/solarized-light.min.css media=print onload='this.media="all",this.onload=null' crossorigin><script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/highlight.min.js crossorigin></script>
<script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.4.0/build/languages/dart.min.js crossorigin></script>
<link rel=stylesheet href=https://blog.ans20xx.com/css/highlightjs.min.2958991528e43eb6fc9b8c4f2b8e052f79c4010718e1d1e888a777620e9ee63021c2c57ec7417a3108019bb8c41943e6.css media=print onload='this.media="all",this.onload=null'><script defer type=text/javascript src=https://blog.ans20xx.com/js/fontawesome.min.8c77c7521b1f95ec2031c2a79f5c6a698aa4a0dba5ba649dfbc7f73994cddf3f494be6aac7e5724f35cbf72cfde09703.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css integrity=sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ media=print onload='this.media="all",this.onload=null' crossorigin><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js integrity=sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY crossorigin></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script><script defer src=https://cdn.jsdelivr.net/npm/mermaid@8.14.0/dist/mermaid.min.js integrity=sha384-atOyb0FxAgN9LyAc6PEf9BjgwLISyansgdH8/VXQH8p2o5vfrRgmGIJ2Sg22L0A0 crossorigin></script>
<link rel=icon type=image/png sizes=32x32 href=https://blog.ans20xx.com/images/icon_hu64421c6c7700f606f0ad45d807017b09_5843_32x32_fill_box_center_3.png><link rel=apple-touch-icon sizes=180x180 href=https://blog.ans20xx.com/images/icon_hu64421c6c7700f606f0ad45d807017b09_5843_180x180_fill_box_center_3.png><meta name=description content="Maven 是什么，有什么用"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Docs","item":"https://blog.ans20xx.com/docs/"},{"@type":"ListItem","position":2,"name":"Java","item":"https://blog.ans20xx.com/docs/java/"},{"@type":"ListItem","position":3,"name":"Maven","item":"https://blog.ans20xx.com/docs/java/maven/"},{"@type":"ListItem","position":4,"name":"1-Maven 简介","item":"https://blog.ans20xx.com/docs/java/maven/chapter-1/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.ans20xx.com/docs/java/maven/chapter-1/"},"headline":"1-Maven 简介 | Java | 安橙的博客","datePublished":"2022-11-29T15:15:46+08:00","dateModified":"2022-11-29T15:15:46+08:00","wordCount":2578,"publisher":{"@type":"Person","name":"WANG Chucheng","logo":{"@type":"ImageObject","url":"https://blog.ans20xx.com/images/icon.png"}},"description":"Maven 是什么，有什么用"}</script><meta property="og:title" content="1-Maven 简介 | Java | 安橙的博客"><meta property="og:type" content="article"><meta property="og:image" content="https://blog.ans20xx.com/images/icon.png"><meta property="og:url" content="https://blog.ans20xx.com/docs/java/maven/chapter-1/"><meta property="og:description" content="Maven 是什么，有什么用"><meta property="og:locale" content="zh"><meta property="og:site_name" content="安橙的博客"><meta property="article:published_time" content="2022-11-29T15:15:46+08:00"><meta property="article:modified_time" content="2022-11-29T15:15:46+08:00"><meta property="article:section" content="docs"><body class="flex min-h-screen flex-col"><header class="min-h-16 pl-scrollbar bg-secondary-bg fixed z-50 flex w-full items-center shadow-sm"><div class="mx-auto w-full max-w-screen-xl"><script>let storageColorScheme=localStorage.getItem("lightDarkMode");((storageColorScheme=="Auto"||storageColorScheme==null)&&window.matchMedia("(prefers-color-scheme: dark)").matches||storageColorScheme=="Dark")&&document.getElementsByTagName("html")[0].classList.add("dark")</script><nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0"><a href=/ class="me-6 text-primary-text text-xl font-bold">安橙的博客</a>
<button id=navbar-btn class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
<i class="fas fa-bars"></i></button><div id=target class="hidden block md:flex md:grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20"><div class="md:flex md:h-16 text-sm md:grow pb-4 md:pb-0 border-b md:border-b-0"><a href=/#about class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent me-4">关于我</a>
<a href=/posts/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent me-4">博文</a>
<a href=/docs/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 selected-menu-item me-4">文档</a>
<a href=/tags/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent me-4">标签</a>
<a href=/categories/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent me-4">归档</a></div><div class=flex><div class="relative pt-4 md:pt-0"><div class="cursor-pointer hover:text-eureka" id=lightDarkMode><i class="fas fa-adjust"></i></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id=is-open></div><div class="absolute flex flex-col start-0 md:start-auto end-auto md:end-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40" id=lightDarkOptions><span class="px-4 py-1 hover:text-eureka" name=Light>浅色</span>
<span class="px-4 py-1 hover:text-eureka" name=Dark>深色</span>
<span class="px-4 py-1 hover:text-eureka" name=Auto>自动</span></div></div></div></div><div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id=is-open-mobile></div></nav><script>let element=document.getElementById("lightDarkMode");storageColorScheme==null||storageColorScheme=="Auto"?document.addEventListener("DOMContentLoaded",()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",switchDarkMode)}):storageColorScheme=="Light"?(element.firstElementChild.classList.remove("fa-adjust"),element.firstElementChild.setAttribute("data-icon","sun"),element.firstElementChild.classList.add("fa-sun")):storageColorScheme=="Dark"&&(element.firstElementChild.classList.remove("fa-adjust"),element.firstElementChild.setAttribute("data-icon","moon"),element.firstElementChild.classList.add("fa-moon")),document.addEventListener("DOMContentLoaded",()=>{getcolorscheme(),switchBurger()})</script></div></header><main class="grow pt-16"><div class=pl-scrollbar><div class="mx-auto w-full max-w-screen-xl lg:px-4 xl:px-8"><div class=lg:pt-12><div class="flex flex-col md:flex-row bg-secondary-bg rounded"><div class="md:w-1/4 lg:w-1/5 border-e"><div class="sticky top-16 pt-6"><div id=sidebar-title class="md:hidden mx-4 px-2 pt-4 pb-2 md:border-b text-tertiary-text md:text-primary-text"><span class=font-semibold>目录</span>
<i class='fas fa-caret-right ms-1'></i></div><div id=sidebar-toc class="hidden md:block overflow-y-auto mx-6 md:mx-0 pe-6 pt-2 md:max-h-doc-sidebar bg-primary-bg md:bg-transparent"><div class="flex flex-wrap ms-4 -me-2 p-2 bg-secondary-bg md:bg-primary-bg rounded"><a class=hover:text-eureka href=https://blog.ans20xx.com/docs/java/>Java</a></div><ul class=ps-6><li class=py-2><div class=pb-2><a class=hover:text-eureka href=https://blog.ans20xx.com/docs/java/%E4%BB%A3%E7%A0%81%E8%A7%84%E7%BA%A6/>Java 代码规约</a></div><ul class=ps-6></ul></li><li class=py-2><div class=pb-2><a class=hover:text-eureka href=https://blog.ans20xx.com/docs/java/maven/>Maven</a></div><ul class=ps-6><li class=py-2><div><a class="text-eureka hover:text-eureka" href=https://blog.ans20xx.com/docs/java/maven/chapter-1/>1-Maven 简介</a></div></li></ul></li></ul></div></div></div><div class="w-full md:w-3/4 lg:w-4/5 pb-8 pt-2 md:pt-8"><div class=flex><div class="w-full lg:w-3/4 px-6"><article class=prose><h1 class=mb-4>1-Maven 简介</h1><div class="text-tertiary-text not-prose mt-2 flex flex-row flex-wrap items-center"><div class="me-6 my-2"><i class="fas fa-calendar me-1"></i>
<span>2022-11-29</span></div><div class="me-6 my-2"><i class="fas fa-clock me-1"></i>
<span>6分钟阅读时长</span></div></div><h2 id=1-构建应用程序>1. 构建应用程序</h2><ol><li>构建一个应用程序往往由以下几个步骤组成：<ol><li>下载依赖</li><li>将依赖 jar 包放在 classpath 目录下</li><li>将源代码编译为二进制码</li><li>运行测试</li><li>将编译结果打包成可部署的软件包：jar、war 等</li><li>将工程发布到服务器或者仓库中</li></ol></li><li>Apache Maven 将这些步骤自动化，减少了人工操作带来的错误</li></ol><h2 id=2-为什么用-maven>2. 为什么用 Maven</h2><p>Maven 有如下优势：</p><ol><li>遵循最佳实践来创建简单应用：Maven 通过引入项目模板(archetypes)来尽量避免项目的配置。</li><li>依赖管理：Maven 包含自动下载、更新、验证兼容性和处理传递依赖。</li><li>隔离项目依赖和项目插件：在 Maven 中，项目依赖从依赖仓库中获取，插件依赖从插件仓库中获取，这样当插件下载额外的依赖时会带来更少的冲突。</li><li>中央仓库：项目依赖可以从本地文件系统或者公开仓库中获取，例如 <a href=https://central.sonatype.dev/>https://central.sonatype.dev/</a></li></ol><h2 id=3-安装-maven>3. 安装 Maven</h2><h3 id=31-简介>3.1. 简介</h3><ol><li>Maven 是构建和管理任何 Java 项目的命令行工具。</li><li>Maven 项目提供了预先编译好的软件包，并压缩为一个 zip 文件（绿色版），可以直接解压运行。</li><li>由于没有使用 installer（安装器）安装，所以，我们需要自己设置 maven 程序的依赖和环境变量。</li><li>安装步骤简单来说就是解压下载好的 maven 软件包，然后将解压后的目录添加到环境变量中，这样我们可以直接在终端中运行 mvn 命令。</li></ol><h3 id=32-前置准备>3.2. 前置准备</h3><ol><li>因为 Maven 是基于 Java 开发的，所以系统中需要安装 <a href=https://www.oracle.com/java/technologies/downloads/>Java</a>，并配置好环境变量。</li><li>运行 <code>java -version</code> 如果不报错，则可以进行下一步。</li></ol><h3 id=33-在-windows-中安装>3.3. 在 Windows 中安装</h3><ol><li>Maven 下载地址：</li></ol><p><a href=https://maven.apache.org/download.cgi>https://maven.apache.org/download.cgi</a></p><ol start=2><li>下载对应平台的压缩包</li><li>解压缩该文件夹，然后添加 <code>M2_HOME</code> 和 <code>MAVEN_HOME</code> 环境变量，使其指向 maven 根目录。</li><li>在 PATH 环境变量中添加 <code>%M2_HOME%\bin</code>，这样就安装完成了。</li><li>运行 <code>mvn -version</code> 命令，如果没有异常，则表示安装成功。</li></ol><h3 id=34-在-linux-中安装>3.4. 在 Linux 中安装</h3><ol><li>下载文件 <code>apache-maven-3.8.4-bin.tar.gz</code></li><li>创建并解压到 Maven 根目录：</li></ol><pre><code class=language-bash>$ mkdir -p /usr/local/apache-maven/apache-maven-3.8.4
$ tar -xvf apache-maven-3.8.4-bin.tar.gz -C /usr/local/apache-maven/apache-maven-3.8.4
</code></pre><ol start=3><li>将 Maven 添加到环境变量中：</li></ol><p>打开 ~/.bashrc</p><pre><code class=language-bash>$ vim ~/.bashrc
</code></pre><p>追加如下内容：</p><pre><code class=language-bash>export M2_HOME=/usr/local/apache-maven/apache-maven-3.8.4 
export M2=$M2_HOME/bin 
export MAVEN_OPTS=-Xms256m -Xmx512m 
export PATH=$M2:$PATH
</code></pre><p>重新加载配置文件：</p><pre><code class=language-bash>$ source ~/.bashrc
</code></pre><ol start=4><li><p>运行 <code>mvn -version</code> 命令，验证是否安装成功。</p></li><li><p>对于 Ubuntu，也可以直接输入如下命令来安装：</p></li></ol><pre><code class=language-bash>$ sudo apt-get install maven
</code></pre><h2 id=4-项目对象模型project-object-model-pom>4. 项目对象模型(Project Object Model, POM)</h2><ol><li>Maven 通过项目对象模型（POM）来配置 Maven 项目，通常该模型以 xml 文件的方式保存为 <code>pom.xml</code>。</li><li>POM 描述了整个项目的结构，管理依赖，并且配置项目运行的插件。</li><li>POM 文件也描述了包含多个模块的 Java 项目中模块的关系。</li><li>POM 文件的典型结构如下：</li></ol><pre><code class=language-xml>&lt;project&gt;
    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;
    &lt;groupId&gt;com.test&lt;/groupId&gt;
    &lt;artifactId&gt;test&lt;/artifactId&gt;
    &lt;packaging&gt;jar&lt;/packaging&gt;
    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;
    &lt;name&gt;com.test&lt;/name&gt;
    &lt;url&gt;http://maven.apache.org&lt;/url&gt;
    &lt;dependencies&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;
            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;
            &lt;version&gt;5.8.2&lt;/version&gt;
            &lt;scope&gt;test&lt;/scope&gt;
        &lt;/dependency&gt;
    &lt;/dependencies&gt;
    &lt;build&gt;
        &lt;plugins&gt;
            &lt;plugin&gt;
                //...
            &lt;/plugin&gt;
        &lt;/plugins&gt;
    &lt;/build&gt;
&lt;/project&gt;
</code></pre><h3 id=41-项目标识符>4.1. 项目标识符</h3><ol><li>Maven 使用项目标识符，也被称为坐标，来唯一定位一个项目，并且指定项目应该如何被打包。</li><li>项目标识符由如下几个部分组成：<ul><li>groupId - 表示创建项目的公司或阻止的唯一标识。</li><li>artifactId - 项目的唯一名称。</li><li>version - 项目的版本号</li><li>packaging - 项目的打包方式</li></ul></li><li>前三项(groupId:artifactId:version)组成了唯一标识符，我们会使用该方式来定位我们需要的外部依赖库。</li></ol><h3 id=42-依赖>4.2. 依赖</h3><ol><li>程序使用的外部库被称为依赖。</li><li>Maven 提供的依赖管理能力允许我们自动从中央仓库下载库，因此我们不需要事先在本地存放这些外部依赖。</li><li>下面是声明一个外部依赖的常见格式：</li></ol><pre><code class=language-xml>&lt;dependency&gt;
    &lt;groupId&gt;org.springframework&lt;/groupId&gt;
    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;
    &lt;version&gt;5.3.16&lt;/version&gt;
&lt;/dependency&gt;
</code></pre><h3 id=43-仓库>4.3. 仓库</h3><ol><li>Maven 中的仓库被用来保存构建结果和项目的依赖。</li><li>Maven 中的本地仓库默认被存放在 <code>~/.m2/repository</code> 目录下。</li><li>如果依赖工程或插件可以在本地仓库中被找到，Maven 就直接使用，否在它就会从默认的中央仓库中下载到本地仓库中。</li><li>有些库，例如 JBoss Server，无法从中央仓库中下载，但是可以从另外一个仓库下载。对于这些库，我们可以在 pom 文件的 respositories 标签中新增一个仓库：</li></ol><pre><code class=language-xml>&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;JBoss repository&lt;/id&gt;
        &lt;url&gt;http://repository.jboss.org/nexus/content/groups/public/&lt;/url&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;
</code></pre><h3 id=44-属性>4.4. 属性</h3><ol><li>自定义属性可以让 pom 文件更易于阅读和维护。</li><li>通常我们用自定义属性来保存版本号信息。</li><li>可以在 <code>properties</code> 标签下指定自定义的属性，定义完成后，我们可以在 pom 文件的任何地方使用 <code>${属性名}</code> 来引用这个属性：</li></ol><pre><code class=language-xml>&lt;properties&gt;
    &lt;spring.version&gt;5.3.16&lt;/spring.version&gt;
&lt;/properties&gt;
&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;
        &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework&lt;/groupId&gt;
        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;
        &lt;version&gt;${spring.version}&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
</code></pre><ol start=4><li>如果我们后续想要升级 Spring 的版本，那我们就直接修改 <code>spring.version</code> 标签中的内容即可。</li><li>属性也常用来指定构建目录的位置：</li></ol><pre><code class=language-xml>&lt;properties&gt;
    &lt;project.build.folder&gt;${project.build.directory}/tmp/&lt;/project.build.folder&gt;
&lt;/properties&gt;
&lt;plugin&gt; 
    //... 
    &lt;outputDirectory&gt;${project.resources.build.folder}&lt;/outputDirectory&gt;
    //... 
&lt;/plugin&gt;
</code></pre><h3 id=45-构建build>4.5. 构建(Build)</h3><ol><li><code>&lt;build></code> 标签中为默认 Maven 目标提供了一些额外信息：<ul><li>项目编译后存放的目录</li><li>应用最终的名称</li></ul></li><li>默认情况下， <code>&lt;build></code> 标签中的内容如下：</li></ol><pre><code class=language-xml>&lt;build&gt;
    &lt;defaultGoal&gt;install&lt;/defaultGoal&gt;
    &lt;directory&gt;${basedir}/target&lt;/directory&gt;
    &lt;finalName&gt;
        ${artifactId}-${version}
    &lt;/finalName&gt;
    &lt;filters&gt;
        &lt;filter&gt;filters/filter1.properties&lt;/filter&gt;
    &lt;/filters&gt;
    //... 
&lt;/build&gt;
</code></pre><ol start=3><li>默认的输出目录名称为 target，构建名称为 <code>artifactId-version</code>。</li></ol><h3 id=46-使用配置-profiles>4.6. 使用配置 (Profiles)</h3><ol><li>Profile 是一组配置值。</li><li>通过 profile，我们可以自定义不同环境下的构建流程，例如 <code>Production/Test/Development</code>。</li></ol><pre><code class=language-xml>&lt;profiles&gt;
    &lt;profile&gt;
        &lt;id&gt;production&lt;/id&gt;
        &lt;build&gt;
            &lt;plugins&gt;
                &lt;plugin&gt;
                    //...
                &lt;/plugin&gt;
            &lt;/plugins&gt;
        &lt;/build&gt;
    &lt;/profile&gt;
    &lt;profile&gt;
        &lt;id&gt;development&lt;/id&gt;
        &lt;activation&gt;
            &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;
        &lt;/activation&gt;
        &lt;build&gt;
            &lt;plugins&gt;
                &lt;plugin&gt;
                    //...
                &lt;/plugin&gt;
            &lt;/plugins&gt;
        &lt;/build&gt;
    &lt;/profile&gt;
&lt;/profiles&gt;
</code></pre><ol start=3><li>运行示例如下：</li></ol><pre><code class=language-bash>mvn clean install -Pproduction
</code></pre><h2 id=5-maven-构建生命周期>5. Maven 构建生命周期</h2><ol><li>每次 Maven 构建都遵循一个指定的生命周期</li><li>我们可以执行数个构建生命周期目标，包括：<ul><li>编译项目的代码</li><li>创建一个包</li><li>在本地 Maven 依赖仓库中安装项目文件</li></ul></li></ol><h3 id=51-生命周期阶段-phases>5.1. 生命周期阶段 (Phases)</h3><ol><li>validate - 检查项目的正确性</li><li>compile - 将项目源代码编译成为二进制工程</li><li>test - 执行单元测试</li><li>packge - 将编译后的代码打包</li><li>integration-test - 执行需要打包的额外的测试</li><li>verify - 验证包是否合法</li><li>install - 安装包文件到本地 Maven 仓库</li><li>deploy - 部署包文件到远程服务器或仓库</li></ol><h3 id=52-插件和目标>5.2. 插件和目标</h3><ol><li>一个 Maven 插件是一个或多个目标的集合</li><li>目标在生命周期阶段中执行</li><li>生命周期阶段可以帮助确定目标的执行顺序</li><li>maven 官方提供的可用的插件在这个链接 <a href=https://maven.apache.org/plugins/>https://maven.apache.org/plugins/</a> 中可以看到</li><li>要知道每个生命周期阶段中执行了哪些目标，可以在这个链接中看到 <a href=https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Built-in_Lifecycle_Bindings>https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html#Built-in_Lifecycle_Bindings</a></li><li>可以通过 <code>mvn &lt;phase></code> 来执行任何一个阶段，注意之前在该生命周期之前的所有阶段也都会被执行，实际上就是执行到某一个阶段</li><li>注意：目标是由插件提供的，但是它也和各种生命周期阶段关联</li></ol><h2 id=6-创建第一个-maven-项目>6. 创建第一个 Maven 项目</h2><h3 id=61-生成一个简单的-maven-项目>6.1. 生成一个简单的 Maven 项目</h3><ol><li>运行如下命令：</li></ol><pre><code class=language-bash>mvn archetype:generate \
    -DgroupId=com.ans20xx \
    -DartifactId=demo01 \
    -DarchetypeArtifactId=maven-archetype-quickstart \
    -DarchetypeVersion=1.4 \
    -DinteractiveMode=false
</code></pre><ol start=2><li>groupId 指定了创建项目的组织或个人，通常是公司域名的倒序</li><li>artifactId 是项目的根包名</li><li>因为我们没有设置版本和打包类型，因此这些值将会被设置为默认值，版本号将会被设置为 1.0-SNAPSHOT，打包方式将会被设置为 jar 包方式</li><li>如果不确定需要用哪些参数，可以指定 <code>interactiveMode=true</code>，它将会引导你完成项目设置</li><li>命令执行结束后，会获得一个包含 App.java 文件的 Java 项目，它被放在 <code>src/main/java</code> 目录下，还有一个测试文件 <code>AppTest.java</code>，它被放在 <code>src/test/java</code> 下面。</li><li>生成的 pom 文件如下：</li></ol><pre><code class=language-xml>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;

&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

  &lt;groupId&gt;com.ans20xx&lt;/groupId&gt;
  &lt;artifactId&gt;demo01&lt;/artifactId&gt;
  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;

  &lt;name&gt;demo01&lt;/name&gt;
  &lt;!-- FIXME change it to the project's website --&gt;
  &lt;url&gt;http://www.example.com&lt;/url&gt;

  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;junit&lt;/groupId&gt;
      &lt;artifactId&gt;junit&lt;/artifactId&gt;
      &lt;version&gt;4.11&lt;/version&gt;
      &lt;scope&gt;test&lt;/scope&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
</code></pre><p>可以看到，JUnit 依赖被默认提供。</p><h3 id=62-编译和打包项目>6.2. 编译和打包项目</h3><ol><li>编译项目：</li></ol><pre><code class=language-bash>mvn compile
</code></pre><p>该命令会执行默认生命周期下直到 compile 的所有阶段。</p><ol start=2><li>运行项目测试：</li></ol><pre><code class=language-bash>mvn test
</code></pre><ol start=3><li>打包：</li></ol><pre><code class=language-bash>mvn package
</code></pre><h3 id=63-运行项目>6.3. 运行项目</h3><ol><li>最后，我们要使用 <code>exec-maven-plugin</code> 来运行 Java 项目。</li><li><code>pom.xml</code> 中相关插件配置如下（如果爆红，运行 mvn clean 即可）：</li></ol><pre><code class=language-xml>&lt;build&gt;
    &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;
    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
            &lt;version&gt;3.6.1&lt;/version&gt;
            &lt;configuration&gt;
                &lt;source&gt;1.8&lt;/source&gt;
                &lt;target&gt;1.8&lt;/target&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;
            &lt;version&gt;3.0.0&lt;/version&gt;
            &lt;configuration&gt;
                &lt;mainClass&gt;com.ans20xx.App&lt;/mainClass&gt;
            &lt;/configuration&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;
</code></pre><ol start=3><li>第一个插件 <code>maven-compiler-plugin</code>，负责使用 Java 1.8 来编译源代码。</li><li><code>exec-maven-plugin</code> 用来在项目中搜索主类。</li><li>运行 <code>mvn exec:java</code> 来运行项目。</li></ol></article></div><div class="hidden lg:block lg:w-1/4"><div class="bg-secondary-bg
prose sticky top-16 z-10 hidden px-6 py-4 lg:block"><h3>本页内容</h3></div><div class="sticky-toc
border-s
hidden px-6 pb-6 lg:block"><nav id=TableOfContents><ul><li><a href=#1-构建应用程序>1. 构建应用程序</a></li><li><a href=#2-为什么用-maven>2. 为什么用 Maven</a></li><li><a href=#3-安装-maven>3. 安装 Maven</a><ul><li><a href=#31-简介>3.1. 简介</a></li><li><a href=#32-前置准备>3.2. 前置准备</a></li><li><a href=#33-在-windows-中安装>3.3. 在 Windows 中安装</a></li><li><a href=#34-在-linux-中安装>3.4. 在 Linux 中安装</a></li></ul></li><li><a href=#4-项目对象模型project-object-model-pom>4. 项目对象模型(Project Object Model, POM)</a><ul><li><a href=#41-项目标识符>4.1. 项目标识符</a></li><li><a href=#42-依赖>4.2. 依赖</a></li><li><a href=#43-仓库>4.3. 仓库</a></li><li><a href=#44-属性>4.4. 属性</a></li><li><a href=#45-构建build>4.5. 构建(Build)</a></li><li><a href=#46-使用配置-profiles>4.6. 使用配置 (Profiles)</a></li></ul></li><li><a href=#5-maven-构建生命周期>5. Maven 构建生命周期</a><ul><li><a href=#51-生命周期阶段-phases>5.1. 生命周期阶段 (Phases)</a></li><li><a href=#52-插件和目标>5.2. 插件和目标</a></li></ul></li><li><a href=#6-创建第一个-maven-项目>6. 创建第一个 Maven 项目</a><ul><li><a href=#61-生成一个简单的-maven-项目>6.1. 生成一个简单的 Maven 项目</a></li><li><a href=#62-编译和打包项目>6.2. 编译和打包项目</a></li><li><a href=#63-运行项目>6.3. 运行项目</a></li></ul></li></ul></nav></div><script>window.addEventListener("DOMContentLoaded",()=>{enableStickyToc()})</script></div></div></div></div></div><script>document.addEventListener("DOMContentLoaded",()=>{hljs.highlightAll(),changeSidebarHeight(),switchDocToc()})</script></div></div></main><footer class=pl-scrollbar><div class="mx-auto w-full max-w-screen-xl"><div class="text-center p-6 pin-b"><p class="text-sm text-tertiary-text">&copy; 2022 <a href=https://www.ans20xx.com/>安橙</a>
&#183; Powered by the <a href=https://github.com/wangchucheng/hugo-eureka class=hover:text-eureka>Eureka</a> theme for <a href=https://gohugo.io class=hover:text-eureka>Hugo</a></p></div></div></footer></body></html>